<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <Version>1.0.18</Version>
  </PropertyGroup>
  <Choose>
    <When Condition="'$(ToolType)'=='global'">
      <PropertyGroup>
        <TargetFrameworks>netcoreapp2.2;netcoreapp2.1;netcoreapp3.0</TargetFrameworks>
        <AssemblyName>dotnet-armr</AssemblyName>
        <ToolCommandName>armr</ToolCommandName>
        <PackageId>Armr</PackageId>
        <PackAsTool>true</PackAsTool>
      </PropertyGroup>
    </When>
    <When Condition="'$(ToolType)'=='project'">
      <PropertyGroup>
        <TargetFrameworks>netcoreapp2.1;netcoreapp2.2</TargetFrameworks>
        <AssemblyName>dotnet-armr</AssemblyName>
        <ToolCommandName>dotnet-armr</ToolCommandName>
        <PackageId>Armr.Proj</PackageId>
        <PackageType>DotNetCliTool</PackageType>
      </PropertyGroup>
    </When>
    <Otherwise>
      <PropertyGroup>
        <TargetFramework>netcoreapp3.0</TargetFramework>
        <AssemblyName>Armr</AssemblyName>
      </PropertyGroup>
    </Otherwise>
  </Choose>
  <ItemGroup>
    <PackageReference Include="Armr.Azure" Version="1.0.0" />
    <PackageReference Include="McMaster.Extensions.CommandLineUtils" Version="2.3.4" />
    <PackageReference Include="McMaster.NETCore.Plugins" Version="0.3.2" />
    <PackageReference Include="Newtonsoft.Json" Version="12.0.3" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\Armr.Abstractions\Armr.Abstractions.csproj" />
    <ProjectReference Include="..\Armr\Armr.csproj" />
  </ItemGroup>
</Project>
